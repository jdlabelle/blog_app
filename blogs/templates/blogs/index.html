{% extends 'blogs/base.html' %}

{% block page_header %}
	<div class="p-3 mb-4 bg-light border rounded-3">
		<div class="container-fluid py-4">
			<h1 class="display-3">Share insights on your favorite topics.</h1>

			<p class="lead">Blog Yo Self is an app for building a personal blog 
			related to a topic you are interested in. Passionate about a subject or
			want to share your experiences with others? Sign up and Blog Yo Self!</p>
			<a class="btn btn-primary btn-lg mt-1"
				 href="{% url 'accounts:register' %}">Register &raquo;</a>
		</div>
	</div>
{% endblock page_header %}

{% block content %}
	<div class="p-4 md-5 mb-4 rounded text-body-emphasis bg-body-secondary">
		<div class="px-0">
			<h1 class="display-4 fst-italic">{{ latest_post.title }}</h1>
			<p class="lead my-3">
				{{ latest_post.truncated_text }}</p>
			<p class="lead mb-0">
				<a class="text-body-emphasis fw-bold" 
					href="{% url 'blogs:post' latest_post.id %}">Continue reading...</a>
			</p>
		</div>
	</div>
{% endblock content %}




{% block content1 %}

	<p>Blogs:</p>
	<ul>
		{% for blog in blogs %}
			<li>{{ blog.name }}</li>
			<ul>
				{% for post in posts %}
					{% if blog.name == post.blog.name %}
						<li>
							<a href="{% url 'blogs:post' post.id %}">
								{{ post.title }}</a>
						</li>
					{% endif %}	
				{% empty %}
					<li>No posts have been added yet.</li>
				{% endfor %}
			</ul>
		{% empty %}
			<li>No blogs have been added yet.</li>
		{% endfor %}
	</ul>

	<a href="{% url 'blogs:new_blog' %}">Add a new blog category</a>
	<br>
	<a href="{% url 'blogs:new_post' %}">Add a new post</a>

{% endblock content1 %}
